chrome.runtime.onInstalled.addListener(()=>{chrome.action.onClicked.addListener(tab=>{chrome.scripting.executeScript({target:{tabId:tab.id},files:["content.js"]})})});chrome.runtime.onMessage.addListener(function(request,sender,sendResponse){if(request.type==="getTotal"){let query=request.data;let response;fetch("https://www.pathofexile.com/api/trade/search/Settlers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.parse(query)}).then(response=>response.json()).then(data=>{sendResponse(data)}).catch(error=>sendResponse(error))}return true});chrome.runtime.onMessage.addListener(data=>{if(data.type==="notification"){chrome.notifications.create("",data.options,notificationId=>{chrome.notifications.onClicked.addListener(id=>{if(id===notificationId){chrome.tabs.create({url:data.url})}})})}});